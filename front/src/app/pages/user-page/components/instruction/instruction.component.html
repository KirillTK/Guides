<section class="instruction-container" >

    <form [formGroup]="instructionForm" (submit)="updateInstruction()">
        <section class="instruction-description">
            <div class="instruction_img">

                <!--<input-file-->
                <!--placeholder="Pictures"-->
                <!--formControlName="imageInstruction">-->
                <!--</input-file>-->

                <img [src]="instruction.imgHref" alt="" class="instruction_img">

            </div>

            <div class="info">
                <mat-form-field class="info-item">
                    <input matInput placeholder="{{'USER_PAGE.TITLE'|translate}}" formControlName="name" [value]="instruction.name">
                </mat-form-field>

                <mat-form-field class="info-item">
                    <textarea matInput placeholder="{{'USER_PAGE.DESCRIPTION'|translate}}" autosize formControlName="description"
                              [value]="instruction.description"></textarea>
                </mat-form-field>

                <mat-form-field class="info-item">
                    <mat-select placeholder="{{'USER_PAGE.THEME'|translate}}" formControlName="theme" [(ngModel)]="instruction.theme">
                        <mat-option [value]="option.value" *ngFor="let option of themes">{{option.value}}</mat-option>
                    </mat-select>
                </mat-form-field>

            </div>
        </section>

        <tag-input class="tag-input" formControlName="tags" [(ngModel)]="instruction.tags" placeholder="{{'USER_PAGE.TAG'|translate}}" secondaryPlaceholder="{{'USER_PAGE.TAGS'|translate}}" theme='minimal'>
            <tag-input-dropdown [showDropdownIfEmpty]="true" [autocompleteItems]="tags">
            </tag-input-dropdown>
        </tag-input>


        <span class="steps-title">{{'USER_PAGE.STEPS'|translate}}</span>

        <section class="steps-container">
            <div class="step" *ngFor="let step of instructionForm.get('steps').controls;let i = index"
                 formArrayName="steps">

                <div [formGroupName]="i" class="step-item">
                    <span class="number-item">{{i + 1}}:</span>
                    <div class="step-values">
                        <mat-form-field class="step-item">
                            <input matInput placeholder="{{'USER_PAGE.TITLE_STEP'|translate}}" formControlName="stepTitle">
                        </mat-form-field>

                        <mat-form-field class="step-item">
                            <textarea matInput placeholder="{{'USER_PAGE.DESCRIPTION_STEP'|translate}}" autosize
                                      formControlName="descriptionTitle"></textarea>
                        </mat-form-field>

                    </div>
                </div>
            </div>
        </section>

        <section class="action-container">

            <div>
                <button mat-fab color="primary" (click)="addStep()">
                    <mat-icon>plus_one</mat-icon>
                </button>
                <button mat-fab color="warn" (click)="deleteStep()">
                    <mat-icon>exposure_neg_1</mat-icon>
                </button>
            </div>

            <!--<button mat-stroked-button color="primary" class="post-btn" [disabled]="instructionForm.invalid">Post</button>-->
            <button mat-stroked-button color="primary" class="post-btn">{{'USER_PAGE.UPDATE_BTN'|translate}}</button>


        </section>


    </form>

</section>
